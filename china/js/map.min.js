const _0x3564=['value','cartogram','title','style','select','北京市','features','data_contain','#ffffff','image/icon.png','宁夏回族自治区','],[','#FCC265','city_dict','Cumulative','geoPath','#666','day_ncov_value','.small_province','scale_button','getElementById','福建省','iteration','#881719','states','广西壮族自治区','objects','fill-opacity','projection','对数比例','香港特别行政区','#carto_map','全国确诊：','image/nanhai.png','#D9736A','text-anchor','translate','新增持平','normal','enter','log','#ddd','begin_date','#ccc','fill','circle','indexOf','nine_line','西藏自治区','#78CE6A','clientWidth','middle','px\x20-','五家渠','clip-path','play','#a50f15','split','legend_g','new\x20ncov','province_name','nanhai-clip','#a1d99b','append','province','.name','ncov_value','single_legend','#F2F2F2','transform','small_index','重庆市','#fff5f0','Linear\x20Scale','#九段线','current\x20new\x20add','translate(0,0)','台湾省','small_province','陕西省','current\x20accumulate','translate(','add','Cumulative\x20Diagnosed:\x20','天津市','Arial','carto_map','date_list','time','#cb181d','keys','collection','scale','head','map','bottom','minus_table_data','hasOwnProperty','\x20infections\x20do\x20not\x20match\x20the\x20map.','px\x20white,\x20','https://vis.ucloud365.com/ncov/data/map.csv','#map','#DF5C50','class','really','#74c476','恩施州','replace','end','clientHeight','公开时间','青海省','table_data','underline','省份小地图：','transition','color','#fb6a4a','#ef3b2c','#CF4033',',\x200)','width','浙江省','#444','#e5f5e0',',0)','辽宁省','rotate','山东省','duration','total','#D75E5E','province_','china-geojson/nanhai.json','remove','#777','stroke-width','#98999A','#238b45','???','image','新冠肺炎疫情','then','安徽省','enter\x20play','new_d','name','新增下降','内蒙古自治区','#legend_g','nanhai','area','old\x20ncov','#play','Feature','start','港澳台暂不提供分省视图','city_list','Reduce','current_step','blue','注：另有','center','累计确诊：','江苏省','湖北省','#nanhai','#c7e9c0','image/stop-button.png','[[[','continue\x20play','geometries','#fff','end_date','rect','Data\x20source:\x20National\x20Health\x20Commission\x20of\x20China','黑龙江省','font-size','last\x20new\x20add','.state','translate(0,','#province_37','minus\x20data','used_city','May\x20',']]][[[','#fee0d2','#41ab5d','province_number','河北省','云南省','linear','push','text-decoration','height','toUpperCase','top',']]]','click','translate(0,\x20','Fixed\x20Area','\x20核减\x20','大渡口','Note:\x20there\x20are\x20','centroid','https://vis.ucloud365.com/ncov/data/time.csv','Data\x20updated,\x20','江西省','#67000d','四川省','New\x20Diagnosed:\x20','attr','湖南省','iterations','color\x20value','table_data_length','length','#F4806A','province_index','海南省','left','河南省','.province_number','ncov_data[0].length','day','url(#nanhai-clip)','#fcbba1','新冠肺炎疫情:\x20','South\x20China\x20Sea','red','text-shadow','国家级','澳门特别行政区','cities','Cartogram\x20Map:\x20github.com/emeeks','accu','甘肃省','clipPath','内蒙古','上海市','properties','Log\x20Scale','white','#province_','image/play-button.png','Polygon','toggle','right','#f7fcf5','2px','#00441b','csv','text','xlink:href','font-family','stroke','en_text','new\x20table_data','正在排查','贵州省','provinces_area','path','selectAll','toLowerCase','.single_legend','#F6978E','data','opacity','\x20infection\x20does\x20not\x20match\x20the\x20map.','面积固定'];(function(_0x297772,_0x356444){const _0x251f93=function(_0x2f3dca){while(--_0x2f3dca){_0x297772['push'](_0x297772['shift']());}};_0x251f93(++_0x356444);}(_0x3564,0x112));const _0x251f=function(_0x297772,_0x356444){_0x297772=_0x297772-0x0;let _0x251f93=_0x3564[_0x297772];return _0x251f93;};pre_dir='';let play_button_image=pre_dir+_0x251f('0xf0');let stop_button_image=pre_dir+_0x251f('0xa4');let color_add=[{'color':_0x251f('0x2d'),'text':_0x251f('0x8f'),'en_text':_0x251f('0x9a')},{'color':_0x251f('0x8'),'text':_0x251f('0x21'),'en_text':'Stable'},{'color':_0x251f('0xd5'),'text':'新增上升','en_text':'Increase'}];let change_mode='accu';let direct_city=['台湾','香港','澳门'];let full_province_name;let legend_index;let cities;let map_data;let for_yangshi=![];let map_file;let extra_info_pre='';let see_number=!![];let see_guojia=!![];let from_last=!![];let last_ncov_value;let svg_nanhai=!![];let ncov_value;let minus_ncov_data;let add_name='';let carto;let topology,geometries,carto_features;let button_selected_color=_0x251f('0x7f');let total_array;if(change_mode===_0x251f('0x4e')){add_name='新增';button_selected_color=color_add[0x0]['color'];}if(for_yangshi){see_number=![];}let full_province_name_dict={'天津':_0x251f('0x50'),'上海':_0x251f('0xeb'),'重庆':_0x251f('0x43'),'河北':_0x251f('0xb9'),'山西':_0x251f('0x4b'),'辽宁':_0x251f('0x7a'),'北京':_0x251f('0x1'),'吉林':'吉林省','黑龙江':_0x251f('0xac'),'江苏':_0x251f('0xa0'),'浙江':_0x251f('0x76'),'安徽':_0x251f('0x8b'),'福建':_0x251f('0x11'),'江西':_0x251f('0xcb'),'山东':_0x251f('0x7c'),'河南':_0x251f('0xd9'),'湖北':_0x251f('0xa1'),'湖南':_0x251f('0xd0'),'广东':'广东省','海南':_0x251f('0xd7'),'四川':_0x251f('0xcd'),'贵州':_0x251f('0xff'),'云南':_0x251f('0xba'),'陕西':_0x251f('0x4b'),'甘肃':_0x251f('0xe8'),'青海':_0x251f('0x6b'),'台湾':_0x251f('0x49'),'内蒙古':_0x251f('0x90'),'广西':_0x251f('0x15'),'西藏':_0x251f('0x2c'),'宁夏':_0x251f('0x6'),'新疆':'新疆维吾尔自治区','香港':_0x251f('0x1a'),'澳门':_0x251f('0xe4')};let cities_area;let last_total=0x0;let current_province_add;let small_index=0x186a0;let color_ncov=['#FFC1BB',_0x251f('0x105'),_0x251f('0x1e'),_0x251f('0x62'),_0x251f('0x73'),'#9F3026',_0x251f('0x13')];let need_update_states=![];let provinces_area;let is_playing=!![];let provinces;let provinces_number;let ncov_data;let smooth_color=![];let green_series=[_0x251f('0xf4'),_0x251f('0x78'),_0x251f('0xa3'),_0x251f('0x3a'),_0x251f('0x65'),_0x251f('0xb7'),_0x251f('0x86'),'#006d2c',_0x251f('0xf6')];let red_series=[_0x251f('0x44'),_0x251f('0xb6'),_0x251f('0xde'),'#fc9272',_0x251f('0x71'),_0x251f('0x72'),_0x251f('0x55'),_0x251f('0x34'),_0x251f('0xcc')];let ncov_data_new;let ncov_data_accu;let begin_date;let current_step=0x0;let defalt_method=_0x251f('0x22');let method=defalt_method;let map_margin={'left':0x0,'right':0x0,'top':0x0,'bottom':0x0};let map_width=document[_0x251f('0x10')](_0x251f('0x5a'))[_0x251f('0x2e')]-map_margin[_0x251f('0xd8')]-map_margin[_0x251f('0xf3')],map_height=document[_0x251f('0x10')](_0x251f('0x5a'))[_0x251f('0x69')]-map_margin[_0x251f('0xc0')]-map_margin[_0x251f('0x5b')];let title_left=map_width*0.05;let title_top=map_height*0.09;let title_font_size=map_height*0.034;let date_left=map_width*0.05;let date_top=map_height*0.12;let date_font_size=map_height*0.02;let scale_button_right=map_width*0.95;let scale_button_top=map_height*0.08;let scale_button_width=map_height*0.15;let scale_button_height=map_height*0.05;let scale_button_font=map_height*0.025;let legend_left=map_width*0.05;let legend_top=map_height*0.3;let legend_width=map_height*0.1;let legend_height=map_height*0.03;let legend_opacity=0.8;let legend_skip=0x2;let play_left=map_width*0.9;let play_top=map_height*0.5;let play_width=map_width*0.05;let play_opacity=0.3;let day_left=map_width*0.05;let day_top=map_height*0.95;let day_size=map_height*0.06;let total_left=map_width*0.05;let total_top=map_height*0.85;let total_font_size=map_height*0.04;let extra_info_left=map_width*0.7;let extra_info_top=map_height*0.85;let extra_info_font_size=map_height*0.02;let info_left=map_width*0.75;let info_top=map_height*0.94;let info_font_size=map_height*0.014;let info_top_second=map_height*0.96;let copyright_left=map_width*0.5-map_height*0.1;let copyright_top=map_height*0.92;let copyright_height=map_height*0.05;let nanhai_left=map_width*0.8;let nanhai_top=map_height*0.67;let nanhai_width=map_width*0.1;let nanhai_height=map_width*0.12;let toggle_switch_left=map_width*0.05;let toggle_switch_top=map_height*0.15;let toggle_switch_width=map_height*0.06;let toggle_switch_height=map_height*0.025;let toggle_text_size=map_height*0.025;let province_font_size=map_height*0.02;let map_svg;let toggle_switch;let states;let nanhai_svg;let texts;let total_info;let new_add_info;let extra_info;let data_info;let src_info;let date;let title;let log_button,linear_button,normal_button;let scale_button;let day_info;let features;function carto_map_load(_0x3cb756){cities_area=new Array();small_index=0x186a0;current_step=0x1;if(language==='en')d3[_0x251f('0x0')](_0x251f('0x59'))['select'](_0x251f('0x10c'))['text'](_0x3cb756+_0x251f('0x89'));else d3[_0x251f('0x0')](_0x251f('0x59'))[_0x251f('0x0')](_0x251f('0x10c'))[_0x251f('0xf8')](_0x3cb756+_0x251f('0x89'));simple_province_name=_0x3cb756;initialize_province_set(simple_province_name);small_index=0x186a0;adjust_for_phone(map_height,map_width);console[_0x251f('0x24')](_0x251f('0x42'),small_index);console['log'](_0x251f('0x42'),small_index);provinces=cities;provinces_number=provinces[_0x251f('0xd4')];provinces_area=cities_area;map_svg=add_svg();toggle_switch=add_toggle(map_svg);title=add_title(map_svg);states=map_svg[_0x251f('0x3b')]('g')[_0x251f('0xcf')]('id',_0x251f('0x14'))[_0x251f('0x102')](_0x251f('0x101'));nanhai_svg=map_svg[_0x251f('0x3b')]('g')[_0x251f('0xcf')]('transform',_0x251f('0x4d')+nanhai_left+','+nanhai_top+')')[_0x251f('0xcf')]('id',_0x251f('0x92'));texts=map_svg[_0x251f('0x3b')]('g')[_0x251f('0xcf')]('id','text');date=map_svg[_0x251f('0x3b')]('g')['attr'](_0x251f('0x41'),_0x251f('0x4d')+date_left+','+date_top+')');date['append'](_0x251f('0xf8'))[_0x251f('0xcf')](_0x251f('0xad'),date_font_size)[_0x251f('0xcf')](_0x251f('0x1f'),'start')['style'](_0x251f('0x28'),_0x251f('0xc'));scale_button=map_svg[_0x251f('0x3b')]('g')[_0x251f('0xcf')]('id',_0x251f('0xf'))['attr'](_0x251f('0x41'),function(_0x13ca0a){return'translate('+scale_button_right+','+scale_button_top+')';});initialize_method_button();load_legend();add_play_image();add_copyright();load_many_info();day_info=add_day_info();main_load();}function add_play_image(){map_svg[_0x251f('0x3b')](_0x251f('0x88'))[_0x251f('0xcf')]('xlink:href',play_button_image)['attr']('x',play_left)[_0x251f('0xcf')]('y',play_top)['attr']('id',_0x251f('0x33'))[_0x251f('0xcf')](_0x251f('0x75'),play_width)[_0x251f('0xcf')](_0x251f('0x107'),play_opacity)['on'](_0x251f('0xc2'),function(_0x66cdce,_0x136b00){if(!is_playing){console['log'](_0x251f('0xa6'));play_button();}else if(is_playing){stop_button();}});}function add_copyright(){map_svg[_0x251f('0x3b')]('image')[_0x251f('0xcf')](_0x251f('0xf9'),pre_dir+_0x251f('0x5'))[_0x251f('0xcf')]('x',copyright_left)['attr']('y',copyright_top)[_0x251f('0xcf')]('id',_0x251f('0x33'))[_0x251f('0xcf')](_0x251f('0xbe'),copyright_height);}function add_day_info(){let _0x436a07=map_svg[_0x251f('0x3b')]('g')[_0x251f('0xcf')](_0x251f('0x41'),_0x251f('0x4d')+day_left+','+day_top+')')['append'](_0x251f('0xf8'))[_0x251f('0xcf')]('id','day')[_0x251f('0xcf')](_0x251f('0xad'),day_size)[_0x251f('0xcf')](_0x251f('0x1f'),_0x251f('0x97'))[_0x251f('0x10d')]('fill',_0x251f('0xc'));return _0x436a07;}function load_many_info(){data_source_text='数据来源：国家卫生健康委员会';carto_map_text='变形地图库：github.com/emeeks';if(language==='en')data_source_text=_0x251f('0xab');carto_map_text=_0x251f('0xe6');total_info=map_svg['append']('g')[_0x251f('0xcf')](_0x251f('0x41'),_0x251f('0x4d')+total_left+','+total_top+')')['append']('text')[_0x251f('0xcf')]('id',_0x251f('0xdc'))[_0x251f('0xcf')](_0x251f('0xad'),total_font_size)[_0x251f('0xcf')](_0x251f('0x1f'),_0x251f('0x97'))[_0x251f('0x10d')](_0x251f('0x28'),_0x251f('0xc'))[_0x251f('0xf8')]('');new_add_info=map_svg[_0x251f('0x3b')]('g')[_0x251f('0xcf')](_0x251f('0x41'),'translate('+total_left+','+(total_top-0x28)+')')[_0x251f('0x3b')](_0x251f('0xf8'))[_0x251f('0xcf')]('id',_0x251f('0xdc'))[_0x251f('0xcf')](_0x251f('0xad'),total_font_size)[_0x251f('0xcf')](_0x251f('0x1f'),_0x251f('0x97'))[_0x251f('0x10d')](_0x251f('0x28'),'#666')[_0x251f('0xf8')]('');extra_info=map_svg[_0x251f('0x3b')]('g')[_0x251f('0xcf')](_0x251f('0x41'),_0x251f('0x4d')+extra_info_left+','+extra_info_top+')')[_0x251f('0x3b')]('text')['attr']('id',_0x251f('0xdc'))[_0x251f('0xcf')](_0x251f('0xad'),extra_info_font_size)[_0x251f('0xcf')](_0x251f('0x1f'),'start')[_0x251f('0x10d')](_0x251f('0x28'),_0x251f('0xc'))[_0x251f('0xf8')](extra_info_pre);data_info=map_svg[_0x251f('0x3b')]('g')['attr']('transform',_0x251f('0x4d')+info_left+','+info_top+')')['append'](_0x251f('0xf8'))[_0x251f('0xcf')]('id',_0x251f('0xdc'))['attr'](_0x251f('0xad'),info_font_size)[_0x251f('0xcf')](_0x251f('0x1f'),_0x251f('0x97'))[_0x251f('0xf8')](data_source_text)[_0x251f('0x10d')]('fill',_0x251f('0x77'))[_0x251f('0x10d')](_0x251f('0xbd'),_0x251f('0x6d'));src_info=map_svg[_0x251f('0x3b')]('g')['attr'](_0x251f('0x41'),_0x251f('0x4d')+info_left+','+info_top_second+')')[_0x251f('0x3b')](_0x251f('0xf8'))[_0x251f('0xcf')]('id',_0x251f('0xdc'))['attr'](_0x251f('0xad'),info_font_size)['attr'](_0x251f('0x1f'),_0x251f('0x97'))[_0x251f('0xf8')](carto_map_text)[_0x251f('0x10d')](_0x251f('0x28'),_0x251f('0x77'))[_0x251f('0x10d')](_0x251f('0xbd'),_0x251f('0x6d'));}function update_current_step(){last_ncov_value=ncov_value;ncov_value=get_value_from_someday(ncov_data,current_step);console[_0x251f('0x24')](current_step);console[_0x251f('0x24')](ncov_value);update_ncov_data(ncov_value,0x1f4);}function play(_0x15f009){is_playing=!![];d3[_0x251f('0x0')](_0x251f('0x95'))[_0x251f('0xcf')](_0x251f('0xf9'),stop_button_image);console[_0x251f('0x24')](_0x251f('0x87'));if(for_yangshi||from_last){current_step=ncov_data[0x0][_0x251f('0xd4')]-0x1;run_on_step(current_step);}else{current_step=0x1;run_on_step(0x1);}}function run_on_step(_0x2c44e1){if(!is_playing)return;current_step=_0x2c44e1;setTimeout(function(){if(!is_playing)return;day=get_day(_0x2c44e1);console[_0x251f('0x24')](_0x251f('0xdc'),day);last_ncov_value=ncov_value;ncov_value=get_value_from_someday(ncov_data,_0x2c44e1);console['log'](_0x251f('0x3e'),ncov_value);update_ncov_data(ncov_value,0x1f4);update_extra_info(ncov_value);update_total();update_day(_0x2c44e1);if(_0x2c44e1==ncov_data[0x0][_0x251f('0xd4')]-0x1){stop_button();}run_on_step(_0x2c44e1+0x1);},0x258);}function update_extra_info(_0x192664){let _0x2aa2a3='';if(_0x192664[_0x251f('0x5d')](-0x1)&&_0x192664[-0x1]>0x0){if(language==='en'){if(_0x192664[-0x1]===0x1)_0x2aa2a3='Note:\x20there\x20is\x20'+_0x192664[-0x1]+_0x251f('0x108');else _0x2aa2a3=_0x251f('0xc7')+_0x192664[-0x1]+_0x251f('0x5e');}else _0x2aa2a3=_0x251f('0x9d')+_0x192664[-0x1]+'名确诊患者未匹配地图地区';}extra_info[_0x251f('0xf8')](_0x2aa2a3);}function get_total_number(_0x59d5cc){let _0xf9b305=0x0;let _0x21c42c=0x0;for(j=0x0;j<ncov_data['length'];j++){if(ncov_data[j][0x0]==_0x251f('0x7e')){if(see_guojia)_0xf9b305=ncov_data[j][_0x59d5cc];break;}else if(ncov_data[j][0x0]==='香港'||ncov_data[j][0x0]=='澳门'||ncov_data[j][0x0]=='台湾'){_0x21c42c+=ncov_data[j][_0x59d5cc];}else{_0xf9b305=_0xf9b305+ncov_data[j][_0x59d5cc];}}let _0x314633=0x0;for(j=0x0;j<minus_ncov_data[_0x251f('0xd4')];j++){if(minus_ncov_data[j][0x0]==_0x251f('0x7e')){if(see_guojia)_0x314633=minus_ncov_data[j][_0x59d5cc];break;}else{_0x314633=_0x314633+minus_ncov_data[j][_0x59d5cc];}}console[_0x251f('0x24')](_0x251f('0x3c'),_0xf9b305);return{'total':_0xf9b305+_0x21c42c,'minus':_0x314633,'gangaotai':_0x21c42c};}function update_day(_0x18b6a0){if(language==='en')day=get_day_en(_0x18b6a0);else day=get_day(_0x18b6a0);day_info[_0x251f('0xf8')](day);}function update_total(){console[_0x251f('0x24')](_0x251f('0x9b'),current_step);total_number=get_total_number(current_step);let _0x55290b=_0x251f('0x9f');if(language==='en')_0x55290b=_0x251f('0x4f');if(change_mode===_0x251f('0x4e')){_0x55290b='新增确诊：';if(language==='en')_0x55290b=_0x251f('0xce');}let _0x36d701='';if(simple_province_name==='全国'){_0x55290b=_0x251f('0x1c');}if(change_mode===_0x251f('0x4e')){total_info[_0x251f('0xf8')](_0x55290b+total_number[_0x251f('0x7e')]+'('+total_number['minus']+')'+_0x36d701);}else{total_info[_0x251f('0xf8')](_0x55290b+total_number[_0x251f('0x7e')]+_0x36d701);}}function get_value_from_someday(_0x347842,_0x1deba8){let _0x2fa3fb=new Array();for(i=0x0;i<ncov_data[_0x251f('0xd4')];i++){if(_0x347842[i][0x0]==='total')continue;let _0x225f42=provinces[_0x251f('0x2a')](_0x347842[i][0x0]);if(_0x1deba8<=0x0){_0x2fa3fb[_0x225f42]=0x0;}else if(_0x2fa3fb[_0x251f('0x5d')](_0x225f42)){_0x2fa3fb[_0x225f42]+=parseInt(_0x347842[i][_0x1deba8]);}else _0x2fa3fb[_0x225f42]=parseInt(_0x347842[i][_0x1deba8]);}return _0x2fa3fb;}function update_ncov_data(_0x175193,_0x2763c6=0xbb8,_0x570261=![]){let _0x170e72=new Array();for(i=0x0;i<provinces_number;i++){if(_0x570261){_0x170e72[i]=provinces_area[provinces[i]];}else if(method==_0x251f('0x24')){_0x170e72[i]=Math['log'](_0x175193[i]+0x1)+provinces_area[provinces[i]]/(small_index*0x2);if(provinces[i]==simple_province_name)_0x170e72[i]=_0x170e72[i]*1.5;}else if(method==_0x251f('0x22'))_0x170e72[i]=provinces_area[provinces[i]];else{_0x170e72[i]=_0x175193[i]+provinces_area[provinces[i]]/(small_index*0xa);}}console['log'](_0x251f('0x100'),provinces_area);console[_0x251f('0x24')]('value_array',_0x170e72);console[_0x251f('0x24')](_0x251f('0xd'),_0x175193);carto[_0x251f('0x10a')](function(_0x4304aa,_0x1e5b6b){let _0x30c03d=parseFloat(_0x170e72[_0x1e5b6b]);return _0x30c03d;});carto_features=carto(topology,geometries)[_0x251f('0x2')];states[_0x251f('0x106')](carto_features)[_0x251f('0xf8')](function(_0x273d63,_0x90dfa){return provinces[_0x90dfa];});console[_0x251f('0x24')]('current\x20step',current_step);let _0x27a2dd=get_value_from_someday(ncov_data_new,current_step);let _0x3b4600=get_value_from_someday(ncov_data_new,current_step-0x1);let _0x14e7c6=get_value_from_someday(minus_ncov_data,current_step);console[_0x251f('0x24')](_0x251f('0x47'),_0x27a2dd);let _0x2dfb32=get_value_from_someday(ncov_data_accu,current_step);console[_0x251f('0x24')](_0x251f('0xae'),_0x3b4600);console[_0x251f('0x24')](_0x251f('0x4c'),_0x2dfb32);console['log'](_0x251f('0x47'),_0x175193);d3['selectAll']('.state')['attr'](_0x251f('0x8d'),carto['path']);let _0x4b5387=d3[_0x251f('0x6f')]()[_0x251f('0x7d')](_0x2763c6);let _0x44adb2=_0x4b5387[_0x251f('0x102')](_0x251f('0x3d'));let _0x19dc66=_0x4b5387[_0x251f('0x102')](_0x251f('0xaf'));if(for_yangshi&&method===_0x251f('0x22')){}else{_0x19dc66['attr']('d',carto[_0x251f('0x101')]);_0x44adb2[_0x251f('0xcf')]('transform',function(_0x889a35,_0x1d1de4){center=get_centroid(d3[_0x251f('0x0')](_0x251f('0xef')+_0x1d1de4)[_0x251f('0xcf')](_0x251f('0x8d')));center=adjust_position(center,_0x1d1de4);return _0x251f('0x4d')+center[0x0]+','+center[0x1]+')';});}_0x19dc66[_0x251f('0xcf')](_0x251f('0x28'),function(_0xdf403e,_0x4a0f64){return _0x48a13f(_0x4a0f64);});_0x4b5387[_0x251f('0x0')](_0x251f('0xa2'))[_0x251f('0x102')](_0x251f('0xe'))[_0x251f('0xcf')](_0x251f('0x28'),function(_0x3585b8){let _0x2ef96f=parseInt(d3[_0x251f('0x0')](this)[_0x251f('0xcf')](_0x251f('0xd6')));console['log'](_0x251f('0x6e'),_0x2ef96f,provinces[_0x2ef96f]);return _0x48a13f(_0x2ef96f);});_0x44adb2[_0x251f('0x102')](_0x251f('0xda'))['text'](function(_0x2c172c){if(change_mode==='add'){let _0x20ac3b=provinces[_0x251f('0x2a')](_0x2c172c);if(_0x14e7c6[_0x20ac3b]!=0x0){return _0x175193[_0x20ac3b]+'('+_0x14e7c6[_0x20ac3b]+')';}else{return _0x175193[_0x20ac3b];}}return _0x175193[provinces[_0x251f('0x2a')](_0x2c172c)];})[_0x251f('0xcf')](_0x251f('0x17'),function(_0x25879b,_0xbd8aea){if(_0x175193[provinces[_0x251f('0x2a')](_0x25879b)]==0x0||_0x570261||!see_number)return 0x0;return 0x1;})[_0x251f('0xcf')]('y',province_font_size);_0x44adb2[_0x251f('0x102')]('.province_name')[_0x251f('0xcf')]('fill-opacity',function(_0x552ea1,_0x1bf85f){if(_0x570261)return 0x1;if(_0x175193[provinces['indexOf'](_0x552ea1)]==0x0)return 0x0;return 0x1;});function _0x48a13f(_0x2b9853){if(_0x570261)return get_color(0x0);if(change_mode===_0x251f('0x4e')){let _0x1e340b=_0x175193[_0x2b9853];let _0x2f2e08=_0x3b4600[_0x2b9853];return get_add_color(_0x1e340b,_0x2f2e08,_0x2dfb32[_0x2b9853]);}console['log']('?????');let _0x3733cc=_0x175193[_0x2b9853];return get_color(_0x3733cc);}}function get_add_color(_0x59211f,_0x4de8c2,_0x467060){if(smooth_color)return get_add_smooth_color(_0x59211f,_0x4de8c2);if(_0x467060===0x0){return color_add[0x0][_0x251f('0x70')];}else if(_0x467060>0x0&&_0x59211f===0x0){return color_add[0x0][_0x251f('0x70')];}let _0x441e05=(_0x59211f-_0x4de8c2)/parseFloat(_0x4de8c2+0.001);console[_0x251f('0x24')](_0x251f('0xd2'),_0x441e05);if(_0x441e05<-0.05)return color_add[0x0][_0x251f('0x70')];if(_0x441e05>0.05)return color_add[0x2]['color'];return color_add[0x1][_0x251f('0x70')];}function get_add_smooth_opacity(_0xf43d39,_0x1ff133,_0x3aa7ef){let _0x1bf3a6=(_0xf43d39-_0x1ff133)/parseFloat(_0x1ff133+0.001);console[_0x251f('0x24')](_0x251f('0x107'),_0x1bf3a6);if(_0x1bf3a6>0x0){if(_0x1bf3a6<0x1){return _0x1bf3a6;}return 0x1;}else{if(_0x1bf3a6>-0x1)return-_0x1bf3a6;return 0x1;}}function get_add_smooth_color(_0x165227,_0x1ab285){let _0x539896=(_0x165227-_0x1ab285)/parseFloat(_0x1ab285+0.001);console[_0x251f('0x24')](_0x251f('0xd2'),_0x539896);if(_0x539896<0x0)return color_add[0x0][_0x251f('0x70')];if(_0x539896>0x0)return color_add[0x2][_0x251f('0x70')];return _0x251f('0x4');}function adjust_position(_0x373a28,_0x401a3b){let _0x584602=new Array();_0x584602[0x0]=_0x373a28[0x0];_0x584602[0x1]=_0x373a28[0x1];if(simple_province_name==='重庆'){if(provinces[_0x401a3b]==_0x251f('0xc6')){_0x584602[0x0]=_0x373a28[0x0]+map_width*0x0;_0x584602[0x1]=_0x373a28[0x1]+map_width*0.02;}else if(provinces[_0x401a3b]=='璧山'){_0x584602[0x0]=_0x373a28[0x0]-map_width*0.01;_0x584602[0x1]=_0x373a28[0x1]+map_width*0x0;}else if(provinces[_0x401a3b]=='南岸'){_0x584602[0x0]=_0x373a28[0x0]-map_width*0x0;_0x584602[0x1]=_0x373a28[0x1]+map_width*0.01;}else if(provinces[_0x401a3b]=='渝北'){_0x584602[0x0]=_0x373a28[0x0]-map_width*0x0;_0x584602[0x1]=_0x373a28[0x1]-map_width*0.02;}else if(provinces[_0x401a3b]=='江北'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0.01;_0x584602[0x1]=_0x373a28[0x1]+map_width*0x0;}else if(provinces[_0x401a3b]=='巴南'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0.01;_0x584602[0x1]=_0x373a28[0x1]+map_width*0x0;}}else if(simple_province_name==='全国'){if(provinces[_0x401a3b]=='河北'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0x0;_0x584602[0x1]=_0x373a28[0x1]+map_height*0.03;}else if(provinces[_0x401a3b]=='香港'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0.03;_0x584602[0x1]=_0x373a28[0x1]+map_width*0.015;}else if(provinces[_0x401a3b]=='澳门'){_0x584602[0x0]=_0x373a28[0x0]-map_width*0.01;_0x584602[0x1]=_0x373a28[0x1]+map_width*0.024;}else if(provinces[_0x401a3b]==_0x251f('0xea')){_0x584602[0x0]=_0x373a28[0x0]-map_width*0.03;_0x584602[0x1]=_0x373a28[0x1]+map_height*0.055;}else if(provinces[_0x401a3b]=='天津'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0.013;_0x584602[0x1]=_0x373a28[0x1]+map_height*0.01;}else if(provinces[_0x401a3b]=='甘肃'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0.01;_0x584602[0x1]=_0x373a28[0x1]-map_height*0.01;}}else if(provinces[_0x401a3b]=='东城'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0.005;_0x584602[0x1]=_0x373a28[0x1]+map_height*0x0;}else if(provinces[_0x401a3b]=='西城'){_0x584602[0x0]=_0x373a28[0x0]-map_width*0.01;_0x584602[0x1]=_0x373a28[0x1]+map_height*0x0;}else if(provinces[_0x401a3b]=='石景山'){_0x584602[0x0]=_0x373a28[0x0]-map_width*0.01;_0x584602[0x1]=_0x373a28[0x1]+map_height*0x0;}else if(provinces[_0x401a3b]=='丰台'){_0x584602[0x0]=_0x373a28[0x0]-map_width*0.01;_0x584602[0x1]=_0x373a28[0x1]+map_height*0.01;}else if(provinces[_0x401a3b]=='朝阳'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0.01;_0x584602[0x1]=_0x373a28[0x1]-map_height*0.01;}else if(provinces[_0x401a3b]=='安阳'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0.03;_0x584602[0x1]=_0x373a28[0x1]-map_height*0.02;}else if(provinces[_0x401a3b]==_0x251f('0x31')){_0x584602[0x0]=_0x373a28[0x0]+map_width*0x0;_0x584602[0x1]=_0x373a28[0x1]-map_height*0.02;}else if(provinces[_0x401a3b]=='塔城'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0x0;_0x584602[0x1]=_0x373a28[0x1]-map_height*0.02;}else if(provinces[_0x401a3b]=='珠海'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0x0;_0x584602[0x1]=_0x373a28[0x1]+map_height*0.01;}else if(provinces[_0x401a3b]=='深圳'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0x0;_0x584602[0x1]=_0x373a28[0x1]+map_height*0.02;}else if(provinces[_0x401a3b]=='广州'){_0x584602[0x0]=_0x373a28[0x0]+map_width*0x0;_0x584602[0x1]=_0x373a28[0x1]-map_height*0.01;}return _0x584602;}function main_load(){let _0x28f5be=map_width;if(map_height<map_width*0x3/0x4){_0x28f5be=map_height*0x4/0x3;}if(map_width>map_height&&map_width<=map_height*1.3){_0x28f5be=map_height*0.9;console[_0x251f('0x24')](_0x251f('0x64'),_0x28f5be);}let _0x38d75d=d3['geoAlbers']()[_0x251f('0x7b')]([-center_location[0x0],0x0])[_0x251f('0x9e')]([-0x0,center_location[0x1]])[_0x251f('0x58')](_0x28f5be*range_index)[_0x251f('0x20')]([map_width/0x2,map_height/0x2]);let _0x88a758=0x1e;if(simple_province_name==='全国'){_0x88a758=0x82;}console[_0x251f('0x24')](_0x251f('0x12'),_0x88a758);carto=d3[_0x251f('0x10b')]()[_0x251f('0x18')](_0x38d75d)[_0x251f('0xd1')](_0x88a758)[_0x251f('0xec')](function(_0x56c207){return _0x56c207;});let _0x534175;d3['json'](map_file)[_0x251f('0x8a')](function(_0x39671c){map_data=_0x39671c;if(simple_province_name==='全国'){if(svg_nanhai)add_nanhai_svg();else add_nanhai();}topology=_0x39671c;console['log'](_0x39671c);geometries=topology[_0x251f('0x16')][_0x251f('0x57')][_0x251f('0xa7')];console[_0x251f('0x24')](geometries);features=carto[_0x251f('0x2')](topology,geometries),path=d3[_0x251f('0xb')]()[_0x251f('0x18')](_0x38d75d);console[_0x251f('0x24')](features);states=states[_0x251f('0x106')](features)[_0x251f('0x23')]()[_0x251f('0x3b')]('path')['attr'](_0x251f('0x63'),'state')['attr']('id',function(_0x20b310,_0x335418){return _0x251f('0x80')+_0x335418;})[_0x251f('0xcf')](_0x251f('0x8e'),function(_0xc5788,_0x40e084){return provinces[_0x40e084];})[_0x251f('0xcf')](_0x251f('0x28'),function(_0x1dc927,_0x41eb81){return _0x251f('0x40');})[_0x251f('0xcf')]('area',function(_0x5e43c7,_0x4bb738){provinces_area[provinces[_0x4bb738]]=path[_0x251f('0x93')](_0x5e43c7);return path['area'](_0x5e43c7);})[_0x251f('0xcf')]('d',path)[_0x251f('0xcf')]('stroke',function(_0x39c4a0){if(smooth_color)return _0x251f('0x27');return _0x251f('0x4');})[_0x251f('0xcf')](_0x251f('0x84'),_0x251f('0xf5'))[_0x251f('0xcf')](_0x251f('0x17'),0.9)['on']('click',function(){let _0x6433c8=d3[_0x251f('0x0')](this)[_0x251f('0xcf')](_0x251f('0x8e'));console[_0x251f('0x24')](provinces[i]);jump_to_china(_0x6433c8);});if(simple_province_name==='重庆'){d3[_0x251f('0x0')](_0x251f('0xb1'))[_0x251f('0xcf')](_0x251f('0x17'),0.5);province_font_size=province_font_size*0.8;}texts=texts['selectAll'](_0x251f('0x3d'))[_0x251f('0x106')](provinces)[_0x251f('0x23')]()[_0x251f('0x3b')]('g')[_0x251f('0xcf')]('class',_0x251f('0x8e'))[_0x251f('0xcf')](_0x251f('0x41'),function(_0x4c538f,_0x316e73){center=path['centroid'](features[_0x316e73]);center=adjust_position(center,_0x316e73);return _0x251f('0x4d')+center[0x0]+','+center[0x1]+')';})[_0x251f('0xcf')]('id',function(_0x5192dd,_0x14ef59){return'province_name_'+_0x14ef59;})['attr'](_0x251f('0xad'),province_font_size)['on'](_0x251f('0xc2'),function(_0x1b2da4,_0x3d65c2){let _0x5f04b8=provinces[_0x3d65c2];jump_to_china(_0x5f04b8);});texts[_0x251f('0x3b')](_0x251f('0xf8'))[_0x251f('0xcf')]('class',_0x251f('0x38'))[_0x251f('0xcf')](_0x251f('0x1f'),_0x251f('0x2f'))[_0x251f('0xcf')](_0x251f('0xad'),province_font_size)['text'](function(_0x2b9b91){if(language==='en')return get_pinyin_name(_0x2b9b91);return _0x2b9b91;});texts['append'](_0x251f('0xf8'))[_0x251f('0xcf')](_0x251f('0x63'),_0x251f('0xb8'))[_0x251f('0xcf')]('text-anchor',_0x251f('0x2f'));url=_0x251f('0x60');d3[_0x251f('0xf7')](url)[_0x251f('0x8a')](function(_0x17976a){console[_0x251f('0x24')](url);window['_data']=_0x17976a;let _0x543fb1=convert_data(_0x17976a);console[_0x251f('0x24')](_0x251f('0x3'),_0x543fb1);ncov_data=_0x543fb1[_0x251f('0x6c')];minus_ncov_data=_0x543fb1[_0x251f('0x5c')];console['log'](_0x251f('0x5c'),minus_ncov_data);console[_0x251f('0x24')](_0x251f('0x94'),ncov_data);ncov_data=accumulate_data(ncov_data,minus_ncov_data);console[_0x251f('0x24')](_0x251f('0x37'),ncov_data);d3[_0x251f('0xf7')](_0x251f('0xc9'))[_0x251f('0x8a')](function(_0xc24a0d){console[_0x251f('0x24')](_0xc24a0d[0x0][_0x251f('0x54')]);if(language==='en')date[_0x251f('0x0')](_0x251f('0xf8'))['text'](_0x251f('0xca')+_0xc24a0d[0x0]['time']);else date[_0x251f('0x0')](_0x251f('0xf8'))[_0x251f('0xf8')]('数据截止至\x20'+_0xc24a0d[0x0][_0x251f('0x54')]);});play(ncov_data);});});}function get_centroid(_0x4d864a){_0x4d864a=_0x4d864a[_0x251f('0x67')](/ *[LC] */g,_0x251f('0x7'))[_0x251f('0x67')](/ *M */g,_0x251f('0xa5'))['replace'](/ *Z */g,_0x251f('0xc1'))['replace'](/ *z */g,_0x251f('0xc1'))[_0x251f('0x67')](/ /g,_0x251f('0x7'));if(_0x4d864a[_0x251f('0x35')](_0x251f('0xb5'))[_0x251f('0xd4')]>0x1){_0x4d864a=_0x4d864a[_0x251f('0x35')](_0x251f('0xb5'))[0x0]+_0x251f('0xc1');}return d3[_0x251f('0xb')]()[_0x251f('0xc8')]({'type':_0x251f('0x96'),'geometry':{'type':_0x251f('0xf1'),'coordinates':JSON['parse'](_0x4d864a)}});}function get_color(_0x4f4f92){if(_0x4f4f92==0x0)return _0x251f('0x40');if(_0x4f4f92<=0x2*legend_index)return color_ncov[0x0];if(_0x4f4f92<=0x4*legend_index)return color_ncov[0x1];if(_0x4f4f92<=0x8*legend_index)return color_ncov[0x2];if(_0x4f4f92<=0x10*legend_index)return color_ncov[0x3];if(_0x4f4f92<=0x20*legend_index)return color_ncov[0x4];if(_0x4f4f92<=0x40*legend_index)return color_ncov[0x5];return color_ncov[0x6];}function add_play(){map_svg[_0x251f('0x3b')](_0x251f('0x88'))['attr'](_0x251f('0xf9'),play_button_image)[_0x251f('0xcf')]('x',map_width*0.9)['attr']('y',map_height*0.5)[_0x251f('0xcf')]('id',_0x251f('0x33'))[_0x251f('0xcf')](_0x251f('0x75'),map_width*0.05)[_0x251f('0xcf')]('opacity',0.3)['on'](_0x251f('0xc2'),function(_0x21fa8a,_0x4fad6f){if(!is_playing){console[_0x251f('0x24')](_0x251f('0xa6'));play_button();}else if(is_playing){stop_button();}});}function stop_button(){is_playing=![];d3[_0x251f('0x0')](_0x251f('0x95'))[_0x251f('0xcf')](_0x251f('0xf9'),play_button_image);}function play_button(){is_playing=!![];console[_0x251f('0x24')](_0x251f('0x8c'));d3[_0x251f('0x0')]('#play')[_0x251f('0xcf')](_0x251f('0xf9'),stop_button_image);console[_0x251f('0x24')](_0x251f('0x9b'),current_step);console[_0x251f('0x24')](_0x251f('0xdb'),ncov_data[0x0]['length']);if(current_step==ncov_data[0x0][_0x251f('0xd4')]-0x1){initialize();setTimeout(function(){current_step=0x1;run_on_step(0x1);},0x3e8);}else run_on_step(current_step+0x1);}function initialize(_0x598ceb=0x1f4){last_ncov_value=ncov_value;ncov_value=get_value_from_someday(ncov_data,current_step-0x1);console[_0x251f('0x24')](ncov_value);update_ncov_data(ncov_value,_0x598ceb,!![]);}function get_day(_0x6d117f){let _0x4bda09=_0x6d117f+begin_date-0x1;if(_0x4bda09>0x1f&&_0x4bda09<=0x3c){return'2月'+(_0x4bda09-0x1f)+'日';}else if(_0x4bda09>0x3c&&_0x4bda09<=0x5b){return'3月'+(_0x4bda09-0x3c)+'日';}else if(_0x4bda09>0x5b){return'4月'+(_0x4bda09-0x5b)+'日';}return'1月'+_0x4bda09+'日';}function get_day_en(_0x17ee4d){let _0x2a8eb4=_0x17ee4d+begin_date-0x1;if(_0x2a8eb4>0x1f){return'Feb.\x20'+(_0x2a8eb4-0x1f);}else if(_0x2a8eb4>0x3c){return'Mar.\x20'+(_0x2a8eb4-0x3c);}else if(_0x2a8eb4>0x5b){return'Apr.\x20'+(_0x2a8eb4-0x5b);}else if(_0x2a8eb4>0x79){return _0x251f('0xb4')+(_0x2a8eb4-0x5b);}return'Jan.\x20'+_0x2a8eb4;}function get_day_index(_0x4dfe3b){let _0x1c11e2=_0x4dfe3b[_0x251f('0x35')](/月|日/);let _0xab32d9=parseInt(_0x1c11e2[0x0]);let _0x2800d0=parseInt(_0x1c11e2[0x1]);if(_0xab32d9==0x1)return _0x2800d0;if(_0xab32d9==0x2)return _0x2800d0+0x1f;if(_0xab32d9==0x3)return _0x2800d0+0x3c;if(_0xab32d9==0x4)return _0x2800d0+0x5b;return(_0xab32d9-0x1)*0x1e+_0x2800d0;return 0x0;}function convert_data(_0x944c1a){console[_0x251f('0x24')](_0x944c1a);let _0x259a61=_0x944c1a[_0x251f('0xd4')];let _0x3e427d=new Array();let _0x57fe0=new Array();let _0x1358e2=new Array();for(i=0x0;i<_0x259a61;i++){let _0x5fcc7b=_0x944c1a[i];let _0x4a1429;if(simple_province_name==='全国'){if(_0x5fcc7b['类别']===_0x251f('0xe3')){_0x4a1429=_0x251f('0x7e');}else if(_0x5fcc7b['类别']!='省级')continue;else _0x4a1429=_0x5fcc7b['省份'][_0x251f('0x67')]('市','')[_0x251f('0x67')](_0x251f('0x66'),'恩施')[_0x251f('0x67')]('林区','');}else{if(_0x5fcc7b['类别']==='省级'&&_0x5fcc7b['省份']===simple_province_name){_0x4a1429=_0x251f('0x7e');if(_0x5fcc7b['新增确诊病例']==='')continue;}else if(_0x5fcc7b['类别']!='地区级')continue;else if(_0x5fcc7b['省份']!=simple_province_name&&_0x5fcc7b['省份']!=full_province_name_dict[simple_province_name])continue;else _0x4a1429=_0x5fcc7b['城市']['replace']('市','')[_0x251f('0x67')]('恩施州','恩施')[_0x251f('0x67')]('林区','');}if(!_0x3e427d[_0x251f('0x5d')](_0x4a1429))_0x3e427d[_0x4a1429]=new Array();if(!_0x1358e2[_0x251f('0x5d')](_0x4a1429))_0x1358e2[_0x4a1429]=new Array();let _0x2d78c1=_0x5fcc7b['新增确诊病例'];_0x2d78c1=parse_to_int(_0x2d78c1);let _0x36a203=_0x5fcc7b['核减'];_0x36a203=parse_to_int(_0x36a203);if(_0x36a203!==0x0)console[_0x251f('0x24')](_0x4a1429+_0x5fcc7b[_0x251f('0x6a')]+_0x251f('0xc5')+_0x36a203);_0x1358e2[_0x4a1429][_0x5fcc7b[_0x251f('0x6a')]]=_0x36a203;if(!_0x3e427d[_0x4a1429][_0x251f('0x5d')](_0x5fcc7b[_0x251f('0x6a')])){_0x3e427d[_0x4a1429][_0x5fcc7b[_0x251f('0x6a')]]=_0x2d78c1;}else{_0x3e427d[_0x4a1429][_0x5fcc7b[_0x251f('0x6a')]]+=_0x2d78c1;}if(_0x57fe0[_0x251f('0x2a')](get_day_index(_0x5fcc7b['公开时间']))===-0x1)_0x57fe0[_0x251f('0xbc')](get_day_index(_0x5fcc7b[_0x251f('0x6a')]));}console[_0x251f('0x24')]('new_data\x20',_0x3e427d);console[_0x251f('0x24')](_0x251f('0xb2'),_0x1358e2);_0x57fe0=_0x57fe0['sort']();console[_0x251f('0x24')](_0x251f('0x53'),_0x57fe0);begin_date=_0x57fe0[0x0];end_date=_0x57fe0[_0x57fe0[_0x251f('0xd4')]-0x1];console['log'](_0x251f('0x26'),begin_date);console[_0x251f('0x24')](_0x251f('0xa9'),end_date);diff_day=end_date-begin_date;console[_0x251f('0x24')](diff_day);let _0x4a9952=new Array();let _0x1758c4=new Array();let _0x113b3b=Object[_0x251f('0x56')](_0x3e427d);let _0x1b1009=find_pair(_0x113b3b);console[_0x251f('0x24')](_0x251f('0x9'),_0x1b1009);let _0x1b7b1e=new Array();for(i=0x0;i<_0x113b3b[_0x251f('0xd4')];i++){_0x1758c4[i]=new Array();_0x1758c4[i][0x0]=_0x1b1009[_0x113b3b[i]];_0x4a9952[i]=new Array();_0x4a9952[i][0x0]=_0x1b1009[_0x113b3b[i]];_0x1b7b1e[i]=_0x1b1009[_0x113b3b[i]];for(j=0x0;j<diff_day+0x1;j++){if(_0x1358e2[_0x113b3b[i]][_0x251f('0x5d')](get_day(j+0x1))){_0x1758c4[i][j+0x1]=_0x1358e2[_0x113b3b[i]][get_day(j+0x1)];}else _0x1758c4[i][j+0x1]=0x0;if(_0x3e427d[_0x113b3b[i]][_0x251f('0x5d')](get_day(j+0x1)))_0x4a9952[i][j+0x1]=_0x3e427d[_0x113b3b[i]][get_day(j+0x1)];else _0x4a9952[i][j+0x1]=0x0;}}console[_0x251f('0x24')]('old\x20table_data'+_0x4a9952);console[_0x251f('0x24')](_0x251f('0x99'),_0x113b3b);console[_0x251f('0x24')](_0x251f('0xb3'),_0x1b7b1e);console[_0x251f('0x24')](_0x251f('0xe5'),cities);let _0x425a9e=_0x113b3b[_0x251f('0xd4')];for(i=0x0;i<provinces[_0x251f('0xd4')];i++){console[_0x251f('0x24')](_0x251f('0xfe'),provinces[i]);if(_0x1b7b1e[_0x251f('0x2a')](provinces[i])===-0x1){_0x4a9952[_0x425a9e]=new Array();_0x1758c4[_0x425a9e]=new Array();_0x4a9952[_0x425a9e][0x0]=provinces[i];_0x1758c4[_0x425a9e][0x0]=provinces[i];for(j=0x0;j<diff_day+0x1;j++){_0x1758c4[_0x425a9e][j+0x1]=0x0;_0x4a9952[_0x425a9e][j+0x1]=0x0;}_0x425a9e=_0x425a9e+0x1;}}console[_0x251f('0x24')](_0x251f('0xfd')+_0x4a9952);let _0x5be651=_0x4a9952[_0x251f('0xd4')];console['log'](_0x251f('0xd3'),_0x5be651);console['log'](_0x113b3b);console[_0x251f('0x24')](_0x251f('0xfd'),_0x4a9952);return{'table_data':_0x4a9952,'minus_table_data':_0x1758c4};}function modify_name(_0x2494ab){let _0x1f4f90;if(_0x2494ab[_0x251f('0x2a')]('市')>-0x1)_0x1f4f90=_0x2494ab[_0x251f('0x67')]('市','');else if(_0x2494ab[_0x251f('0x2a')]('州')>-0x1)_0x1f4f90=_0x2494ab[_0x251f('0x67')]('州','');else if(_0x2494ab['indexOf']('林区')>-0x1)_0x1f4f90=_0x2494ab[_0x251f('0x67')]('林区','');return _0x1f4f90;}function correct_simple_name(_0x3d80e1){let _0x45305=_0x3d80e1;for(i=0x0;i<provinces_number;i++){if(_0x3d80e1[_0x251f('0x2a')](provinces[i])===0x0){_0x45305=provinces[i];}}console['log'](_0x45305);return _0x45305;}function parse_to_int(_0x2a81cc){if(_0x2a81cc==='')return 0x0;return parseInt(_0x2a81cc);}function jump_to_china(_0x1b2cba){console[_0x251f('0x24')](_0x1b2cba);if(simple_province_name=='全国'){if(direct_city[_0x251f('0x2a')](_0x1b2cba)!==-0x1)alert(_0x251f('0x98'));else carto_map_load(_0x1b2cba);}else carto_map_load('全国');}function accumulate_data(_0x4ee19e,_0x4c5963){let _0x18dc95=new Array();for(let _0x3b3b32=0x0;_0x3b3b32<_0x4ee19e[_0x251f('0xd4')];_0x3b3b32++){_0x18dc95[_0x3b3b32]=new Array();_0x18dc95[_0x3b3b32][0x0]=_0x4ee19e[_0x3b3b32][0x0];_0x18dc95[_0x3b3b32][0x1]=_0x4ee19e[_0x3b3b32][0x1]+_0x4c5963[_0x3b3b32][0x1];for(let _0xd2126d=0x2;_0xd2126d<_0x4ee19e[_0x3b3b32]['length'];_0xd2126d++)_0x18dc95[_0x3b3b32][_0xd2126d]=_0x18dc95[_0x3b3b32][_0xd2126d-0x1]+_0x4ee19e[_0x3b3b32][_0xd2126d]+_0x4c5963[_0x3b3b32][_0xd2126d];}ncov_data_new=_0x4ee19e;ncov_data_accu=_0x18dc95;if(change_mode===_0x251f('0xe7'))return ncov_data_accu;else return ncov_data_new;}function reload_legend_title(){map_svg[_0x251f('0x0')](_0x251f('0x91'))[_0x251f('0x82')]();load_legend();if(change_mode===_0x251f('0x4e')){add_name='新增';button_selected_color=color_add[0x0][_0x251f('0x70')];}else{add_name='';button_selected_color='#D75E5E';}load_button_color();title[_0x251f('0x0')](_0x251f('0xf8'))['style'](_0x251f('0x28'),function(_0x20e3e6){return button_selected_color;})['text'](function(_0x529cdd){return get_proper_title();});}function get_proper_title(){if(language==='en')return'Novel\x20Coronavirus\x20Pneumonia:\x20Situation\x20of\x20'+get_pinyin_name(simple_province_name);else return _0x251f('0xdf')+simple_province_name+add_name+'态势';}function add_svg(){d3[_0x251f('0x102')](_0x251f('0x1b'))[_0x251f('0x82')]();let _0x344bb9=d3[_0x251f('0x0')](_0x251f('0x61'))[_0x251f('0x3b')]('svg')[_0x251f('0xcf')]('id',_0x251f('0x52'))[_0x251f('0xcf')](_0x251f('0xfa'),_0x251f('0x51'))[_0x251f('0xcf')](_0x251f('0x75'),map_width-map_margin[_0x251f('0xd8')]-map_margin[_0x251f('0xf3')])[_0x251f('0xcf')](_0x251f('0xbe'),map_height-map_margin[_0x251f('0xc0')]-map_margin[_0x251f('0x5b')]);return _0x344bb9;}function add_toggle(_0x232710){toggle_kernal_position=2.2;leiji_name='累计';new_name='新增';if(language==='en'){toggle_kernal_position=4.2;leiji_name=_0x251f('0xa');new_name='New';}toggle_switch=_0x232710['append']('g')[_0x251f('0xcf')](_0x251f('0x63'),_0x251f('0xf2'))[_0x251f('0xcf')](_0x251f('0x41'),_0x251f('0x4d')+toggle_switch_left+','+toggle_switch_top+')');toggle_kernal=toggle_switch[_0x251f('0x3b')]('g')[_0x251f('0xcf')](_0x251f('0x41'),'translate('+toggle_text_size*toggle_kernal_position+_0x251f('0x74'));toggle_kernal[_0x251f('0x3b')](_0x251f('0xaa'))[_0x251f('0xcf')]('width',toggle_switch_width)['attr'](_0x251f('0xbe'),toggle_switch_height)[_0x251f('0xcf')]('rx',toggle_switch_height/0x2)[_0x251f('0xcf')](_0x251f('0x28'),_0x251f('0xe1'));toggle_kernal[_0x251f('0x3b')](_0x251f('0x29'))['attr'](_0x251f('0x41'),function(_0x219c36){if(change_mode==='accu')return _0x251f('0x48');else return _0x251f('0x4d')+(toggle_switch_width-toggle_switch_height)+_0x251f('0x79');})['attr']('cx',toggle_switch_height/0x2)[_0x251f('0xcf')]('cy',toggle_switch_height/0x2)[_0x251f('0xcf')]('r',toggle_switch_height*0.55)[_0x251f('0xcf')](_0x251f('0x28'),_0x251f('0x9c'));toggle_switch[_0x251f('0x3b')]('g')[_0x251f('0xcf')]('transform',_0x251f('0xc3')+toggle_text_size*0.8+')')[_0x251f('0x3b')](_0x251f('0xf8'))[_0x251f('0xcf')](_0x251f('0xad'),toggle_text_size)[_0x251f('0xf8')](leiji_name);toggle_switch[_0x251f('0x3b')]('g')[_0x251f('0xcf')](_0x251f('0x41'),_0x251f('0x4d')+(toggle_switch_width+toggle_text_size*(toggle_kernal_position+0.2))+',\x20'+toggle_text_size*0.8+')')[_0x251f('0x3b')](_0x251f('0xf8'))[_0x251f('0xcf')](_0x251f('0xad'),toggle_text_size)[_0x251f('0xf8')](new_name);toggle_kernal['on'](_0x251f('0xc2'),function(_0x371da5){if(change_mode==_0x251f('0xe7')){change_mode=_0x251f('0x4e');ncov_data=ncov_data_new;toggle_kernal[_0x251f('0x0')](_0x251f('0x29'))[_0x251f('0x6f')]()[_0x251f('0x7d')](0x64)[_0x251f('0xcf')](_0x251f('0x41'),_0x251f('0x4d')+(toggle_switch_width-toggle_switch_height)+_0x251f('0x79'));}else{change_mode=_0x251f('0xe7');ncov_data=ncov_data_accu;toggle_kernal[_0x251f('0x0')](_0x251f('0x29'))[_0x251f('0x6f')]()['duration'](0x64)[_0x251f('0xcf')](_0x251f('0x41'),'translate(0,0)');}if(!is_playing)update_total();reload_legend_title();update_current_step();});return toggle_switch;}function adjust_for_phone(_0x2d6d98,_0x31140b){if(_0x2d6d98>_0x31140b){title_left=_0x31140b*0.05;title_top=_0x2d6d98*0.07;title_font_size=_0x31140b/0x14;date_left=_0x31140b*0.05;date_top=_0x2d6d98*0.1;date_font_size=_0x31140b/0x28;province_font_size=_0x31140b*0.02;if(simple_province_name==='全国'||simple_province_name==='重庆')province_font_size=_0x31140b*0.015;scale_button_right=_0x31140b*0.95;scale_button_top=_0x2d6d98*0.12;scale_button_width=_0x31140b/0x5;scale_button_height=_0x31140b/0xf;scale_button_font=scale_button_height/0x2;legend_left=title_left;legend_top=_0x2d6d98*0.15;legend_width=_0x31140b*0.13;legend_height=date_font_size*1.2;legend_opacity=0.8;legend_skip=0x2;play_left=_0x31140b*0.8;play_top=_0x2d6d98*0.8;play_width=_0x31140b*0.1;play_opacity=0.3;day_left=title_left;day_top=_0x2d6d98*0.83;day_size=_0x31140b*0.1;total_left=title_left;total_top=_0x2d6d98*0.75;total_font_size=_0x31140b*0.04;info_left=_0x31140b*0.05;info_top=_0x2d6d98*0.9;info_font_size=date_font_size;info_top_second=info_top+_0x2d6d98*0.02;copyright_left=_0x31140b*0.5-_0x2d6d98*0.1;copyright_top=_0x2d6d98*0.95;copyright_height=_0x2d6d98*0.04;nanhai_left=_0x31140b*0.8;nanhai_top=_0x2d6d98*0.68;nanhai_width=_0x31140b*0.12;nanhai_height=_0x31140b*0.14;toggle_switch_left=_0x31140b*0.05;toggle_switch_top=_0x2d6d98*0.11;toggle_switch_width=_0x31140b*0.075;toggle_switch_height=_0x31140b*0.03;toggle_text_size=_0x31140b*0.03;extra_info_left=_0x31140b*0.05;extra_info_top=_0x2d6d98*0.87;extra_info_font_size=_0x31140b*0.03;}}function add_title(_0x3b7e0b){shadow_per=0.2;let _0x295292=_0x3b7e0b[_0x251f('0x3b')]('g')[_0x251f('0xcf')](_0x251f('0x41'),_0x251f('0x4d')+title_left+','+title_top+')');_0x295292['append'](_0x251f('0xf8'))[_0x251f('0xf8')](function(_0x3c3989){return get_proper_title();})[_0x251f('0xcf')](_0x251f('0xad'),title_font_size)[_0x251f('0xcf')](_0x251f('0x1f'),_0x251f('0x97'))[_0x251f('0x10d')](_0x251f('0x28'),function(_0x6c99e2){if(change_mode===_0x251f('0x4e'))return color_add[0x0][_0x251f('0x70')];else return button_selected_color;})[_0x251f('0x10d')](_0x251f('0xbd'),'underline')[_0x251f('0x10d')](_0x251f('0xe2'),'-'+province_font_size*shadow_per+_0x251f('0x30')+province_font_size*shadow_per+_0x251f('0x5f')+province_font_size*shadow_per+'px\x20'+province_font_size*shadow_per+'px\x20#ddd');return _0x295292;}function load_legend(){let _0x5e6803=map_svg['append']('g')['attr']('id',_0x251f('0x36'))[_0x251f('0xcf')]('transform',_0x251f('0x4d')+legend_left+','+legend_top+')');if(change_mode==='accu'){let _0x97730c=_0x5e6803['selectAll']('.single_legend')[_0x251f('0x106')](color_ncov)[_0x251f('0x23')]()[_0x251f('0x3b')]('g')[_0x251f('0xcf')](_0x251f('0x63'),_0x251f('0x3f'))[_0x251f('0xcf')](_0x251f('0x41'),function(_0x6827ce,_0x2ab3d7){return _0x251f('0xb0')+_0x2ab3d7*(legend_height+legend_skip)+')';});_0x97730c[_0x251f('0x3b')](_0x251f('0xaa'))[_0x251f('0xcf')](_0x251f('0x28'),function(_0x203a65){return _0x203a65;})[_0x251f('0xcf')]('width',legend_width)[_0x251f('0xcf')](_0x251f('0xbe'),legend_height)[_0x251f('0xcf')]('opacity',legend_opacity);_0x97730c[_0x251f('0x3b')](_0x251f('0xf8'))[_0x251f('0xcf')](_0x251f('0x41'),_0x251f('0x4d')+legend_width*0.1+','+legend_height*0.9+')')[_0x251f('0xf8')](function(_0x40dfb9,_0x522bbb){let _0x2f8fc7=Math['pow'](0x2,_0x522bbb)*legend_index+0x1;let _0x1550fb=Math['pow'](0x2,_0x522bbb+0x1)*legend_index;if(_0x522bbb===0x0){_0x2f8fc7=0x1;}if(_0x522bbb===0x6){_0x1550fb='';return'>\x20'+(_0x2f8fc7-0x1);}return _0x2f8fc7+'-'+_0x1550fb;})[_0x251f('0x10d')](_0x251f('0x28'),'#fff')[_0x251f('0xcf')](_0x251f('0xad'),legend_height*0.9);}else{let _0x20e0c1=_0x5e6803['selectAll'](_0x251f('0x104'))[_0x251f('0x106')](color_add)[_0x251f('0x23')]()[_0x251f('0x3b')]('g')[_0x251f('0xcf')]('class',_0x251f('0x3f'))[_0x251f('0xcf')](_0x251f('0x41'),function(_0xc0c237,_0x3c2819){return _0x251f('0xb0')+_0x3c2819*(legend_height*1.5+legend_skip)+')';});_0x20e0c1['append'](_0x251f('0xaa'))['attr'](_0x251f('0x28'),function(_0x4d2322){return _0x4d2322[_0x251f('0x70')];})[_0x251f('0xcf')](_0x251f('0x75'),legend_width)[_0x251f('0xcf')](_0x251f('0xbe'),legend_height*1.5)['attr'](_0x251f('0x107'),legend_opacity);_0x20e0c1[_0x251f('0x3b')](_0x251f('0xf8'))[_0x251f('0xcf')](_0x251f('0x41'),_0x251f('0x4d')+legend_width*0.1+','+legend_height*1.1+')')[_0x251f('0xf8')](function(_0x558a7b,_0x2f440b){if(language==='en')return _0x558a7b[_0x251f('0xfc')];return _0x558a7b['text'];})[_0x251f('0x10d')](_0x251f('0x28'),_0x251f('0xa8'))[_0x251f('0xcf')](_0x251f('0xad'),legend_height*0.7);}}function initialize_method_button(){let _0x6a99e4=_0x251f('0x19');let _0x2d23cf='线性比例';let _0x3ee12c=_0x251f('0x109');if(language==='en'){_0x6a99e4=_0x251f('0xed');_0x2d23cf=_0x251f('0x45');_0x3ee12c=_0x251f('0xc4');}log_button=scale_button[_0x251f('0x3b')]('g')[_0x251f('0xcf')](_0x251f('0x41'),_0x251f('0x4d')+-scale_button_width+_0x251f('0x74'));linear_button=scale_button[_0x251f('0x3b')]('g')[_0x251f('0xcf')]('transform',_0x251f('0x4d')+-scale_button_width+',\x20'+(scale_button_height+scale_button_height*0.25)+')');normal_button=scale_button[_0x251f('0x3b')]('g')[_0x251f('0xcf')](_0x251f('0x41'),'translate('+-scale_button_width+',\x20'+(scale_button_height+scale_button_height*0.25)*0x2+')');log_button_rx=scale_button_height*0.2;log_button[_0x251f('0x3b')]('rect')[_0x251f('0xcf')](_0x251f('0x75'),scale_button_width)['attr'](_0x251f('0xbe'),scale_button_height)['attr'](_0x251f('0x28'),_0x251f('0x85'))['attr']('rx',log_button_rx);log_button[_0x251f('0x3b')](_0x251f('0xf8'))[_0x251f('0xf8')](_0x6a99e4)[_0x251f('0xcf')](_0x251f('0x1f'),_0x251f('0x2f'))[_0x251f('0xcf')]('y',(scale_button_height+scale_button_font)/0x2-scale_button_font*0.1)[_0x251f('0xcf')]('x',scale_button_width/0x2)[_0x251f('0x10d')](_0x251f('0x28'),_0x251f('0xee'))[_0x251f('0xcf')](_0x251f('0xad'),scale_button_font);linear_button[_0x251f('0x3b')](_0x251f('0xaa'))[_0x251f('0xcf')]('width',scale_button_width)[_0x251f('0xcf')](_0x251f('0xbe'),scale_button_height)['attr'](_0x251f('0x28'),'#98999A')[_0x251f('0xcf')]('rx',log_button_rx);linear_button[_0x251f('0x3b')](_0x251f('0xf8'))[_0x251f('0xf8')](_0x2d23cf)[_0x251f('0xcf')](_0x251f('0x1f'),_0x251f('0x2f'))[_0x251f('0xcf')]('y',(scale_button_height+scale_button_font)/0x2-0x2)[_0x251f('0xcf')]('x',scale_button_width/0x2)[_0x251f('0x10d')]('fill',_0x251f('0xee'))[_0x251f('0xcf')](_0x251f('0xad'),scale_button_font);normal_button[_0x251f('0x3b')]('rect')[_0x251f('0xcf')]('width',scale_button_width)[_0x251f('0xcf')](_0x251f('0xbe'),scale_button_height)[_0x251f('0xcf')]('fill',_0x251f('0x85'))[_0x251f('0xcf')]('rx',log_button_rx);normal_button[_0x251f('0x3b')](_0x251f('0xf8'))[_0x251f('0xf8')](_0x3ee12c)[_0x251f('0xcf')](_0x251f('0x1f'),_0x251f('0x2f'))['attr']('y',(scale_button_height+scale_button_font)/0x2-0x2)[_0x251f('0xcf')]('x',scale_button_width/0x2)[_0x251f('0x10d')](_0x251f('0x28'),'white')[_0x251f('0xcf')]('font-size',scale_button_font);load_button_color();load_button_click();}function load_button_color(){if(method==='log'){log_button[_0x251f('0x0')](_0x251f('0xaa'))[_0x251f('0xcf')](_0x251f('0x28'),button_selected_color);}else if(method===_0x251f('0xbb')){linear_button[_0x251f('0x0')](_0x251f('0xaa'))[_0x251f('0xcf')](_0x251f('0x28'),button_selected_color);}else{normal_button['select'](_0x251f('0xaa'))['attr'](_0x251f('0x28'),button_selected_color);}}function load_button_click(){log_button['on'](_0x251f('0xc2'),function(_0x23a97c){method='log';log_button['select'](_0x251f('0xaa'))[_0x251f('0xcf')](_0x251f('0x28'),button_selected_color);linear_button[_0x251f('0x0')](_0x251f('0xaa'))[_0x251f('0xcf')](_0x251f('0x28'),_0x251f('0x85'));normal_button[_0x251f('0x0')](_0x251f('0xaa'))[_0x251f('0xcf')](_0x251f('0x28'),_0x251f('0x85'));if(!is_playing){update_current_step();}});linear_button['on']('click',function(_0x34621c){method='linear';log_button[_0x251f('0x0')](_0x251f('0xaa'))[_0x251f('0xcf')](_0x251f('0x28'),'#98999A');linear_button[_0x251f('0x0')](_0x251f('0xaa'))[_0x251f('0xcf')](_0x251f('0x28'),button_selected_color);normal_button[_0x251f('0x0')]('rect')[_0x251f('0xcf')](_0x251f('0x28'),_0x251f('0x85'));if(!is_playing){update_current_step();}});normal_button['on'](_0x251f('0xc2'),function(_0xf6ed2){method=_0x251f('0x22');log_button[_0x251f('0x0')](_0x251f('0xaa'))[_0x251f('0xcf')](_0x251f('0x28'),_0x251f('0x85'));linear_button[_0x251f('0x0')](_0x251f('0xaa'))[_0x251f('0xcf')]('fill',_0x251f('0x85'));normal_button[_0x251f('0x0')]('rect')['attr'](_0x251f('0x28'),button_selected_color);if(!is_playing){update_current_step();}});}function add_nanhai(){d3['select'](_0x251f('0xa2'))[_0x251f('0x3b')](_0x251f('0x88'))['attr'](_0x251f('0xf9'),_0x251f('0x1d'))[_0x251f('0xcf')]('width',nanhai_width)[_0x251f('0xcf')](_0x251f('0xbe'),nanhai_height);}function add_nanhai_svg(){nanhai_height=nanhai_width*1.2;nanhai_svg=d3[_0x251f('0x0')]('#nanhai');let _0x2e02b3=nanhai_width;center_location=[114.4,13.2];nanhai_svg[_0x251f('0x3b')](_0x251f('0xaa'))[_0x251f('0xcf')]('id','nanhai_kuang')['attr'](_0x251f('0x75'),nanhai_width)['attr'](_0x251f('0xbe'),nanhai_height);nanhai_svg[_0x251f('0x3b')](_0x251f('0xe9'))[_0x251f('0xcf')]('id',_0x251f('0x39'))[_0x251f('0x3b')](_0x251f('0xaa'))[_0x251f('0xcf')](_0x251f('0x75'),nanhai_width)[_0x251f('0xcf')](_0x251f('0xbe'),nanhai_height);nanhai_range=3.5;let _0x3d672c=d3['geoAlbers']()[_0x251f('0x7b')]([-center_location[0x0],0x0])[_0x251f('0x9e')]([-0x0,center_location[0x1]])[_0x251f('0x58')](_0x2e02b3*nanhai_range)[_0x251f('0x20')]([nanhai_width/0x2,nanhai_height/0x2]);let _0x4ce78e=d3['geoPath']()[_0x251f('0x18')](_0x3d672c);nanhai_svg[_0x251f('0x3b')](_0x251f('0xf8'))[_0x251f('0xcf')]('x',nanhai_width*0.98)[_0x251f('0xcf')]('y',nanhai_height*0.95)[_0x251f('0xcf')](_0x251f('0x1f'),_0x251f('0x68'))[_0x251f('0xf8')](function(_0x3f0b90){if(language==='ch')return'中国南海';return _0x251f('0xe0');})[_0x251f('0xcf')](_0x251f('0xad'),nanhai_width/0xa);d3['json'](_0x251f('0x81'))[_0x251f('0x8a')](function(_0x591662){console[_0x251f('0x24')](_0x591662);nanhai_svg[_0x251f('0x102')](_0x251f('0x101'))[_0x251f('0x106')](_0x591662[_0x251f('0x2')])[_0x251f('0x23')]()[_0x251f('0x3b')](_0x251f('0x101'))['attr']('d',_0x4ce78e)[_0x251f('0xcf')]('class',_0x251f('0x4a'))[_0x251f('0xcf')]('stroke-width','1px')[_0x251f('0xcf')](_0x251f('0xfb'),_0x251f('0x83'))[_0x251f('0xcf')]('fill',_0x251f('0x40'))[_0x251f('0xcf')](_0x251f('0xd6'),function(_0x50cfdc){return provinces[_0x251f('0x2a')](_0x50cfdc[_0x251f('0xec')][_0x251f('0x8e')]);})['attr']('id',function(_0x443552,_0x5d90e5){return _0x443552[_0x251f('0xec')][_0x251f('0x8e')];})['attr'](_0x251f('0x32'),_0x251f('0xdd'));nanhai_svg[_0x251f('0x0')](_0x251f('0x46'))[_0x251f('0x10d')]('stroke-width',nanhai_width/0x28)[_0x251f('0x10d')](_0x251f('0xfb'),_0x251f('0x25'))[_0x251f('0xcf')](_0x251f('0x63'),_0x251f('0x2b'));});}function firstUpperCase(_0x3cf179){return _0x3cf179[_0x251f('0x103')]()['replace'](/( |^)[a-z]/g,_0x2c5efe=>_0x2c5efe[_0x251f('0xbf')]());}carto_map_load(simple_province_name);